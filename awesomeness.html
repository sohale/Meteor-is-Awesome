<head>
    <title>flo-pok</title>
</head>

<body>
    <div class="container">
    <h1>flopoke
        <span class="label label-danger">F</span
        ><span class="label label-warning">l</span
        ><span class="label label-info">o</span
        ><span class="label label-success">P</span
        ><span class="label label-primary">o</span
        ><span class="label label-default">k</span>
        </h1><br/>

    <!--(LiveDecide)-->
    {{#if currentUser}}


        Vote: 
        <button>1</button>
        <button>2</button>
        <button>3</button>
        <hr/>

        <h3>Neighbours list:</h3>
        <ul>
            {{#each nusers}}
                {{>auser}}
            {{/each}}
        </ul>
        <hr/>


        <div class="panel  panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Message box</h3>
            </div>
            <div class="panel-body">
                <form class="new-message">
                    <input type="text" name="text" placeholder="Type a message to broadcast" />
                </form>
                <ul  class="list-group">
                    <!-- security issue: content hidden on clientside when not current user -->
                    {{#each msglist}}
                        {{> amessage}}
                    {{/each}}
                </ul>
            </div>
        </div>

        <div role="navigation">
            <h3>Browse users:</h3>
            {{#each users}}
                {{>all1user}}
            {{/each}}




        </div>

    {{else}}

        <div class="alert alert-warning" role="alert">
        Please log in or wait.
        </div>
    {{/if}}

    {{> loginButtons}}

  </div>
</body>


<template name="auser">
    <!--li-->
    <div class="row">
        <b>{{username}}</b>
        <button class="poke1">poke</button>
        (User {{_id}})
        <button class="remove1">remove</button>
    </div>
    <!--/li-->
    <!-- Taken from the json-->
    <!-- We canno access the main 'users' table-->
</template>

<template name="all1user">
    <span class="col-lg-2">
    &nbsp; {{username}}
    <button type="button" class="btn btn-default btn-sm" 
    >add</button>
    <!-- {{_id}} -->
    </span>
</template>

<template name="amessage">
    <li class="list-group-item list-group-item-info">
        <!--div class="row"-->
        <b>{{text}}</b>
        From:{{fromuid}}>{{touid}}
        <!--{{formatDate createdAt}}-->
        <button type="button" class="btn btn-default btn-sm" >broadcast</button>
        <!--/div-->
    </li>
</template>
